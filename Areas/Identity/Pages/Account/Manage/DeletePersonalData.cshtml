@page
@model DeletePersonalDataModel
@{
    ViewData["Title"] = "Delete Account";
    ViewData["ActivePage"] = ManageNavPages.PersonalData;
}

<div class="card card-clean shadow-sm border border-danger">
    <div class="card-body p-4 p-md-5">

        <div class="text-center mb-4">
            <div class="icon-circle lg theme-danger mx-auto mb-3 shadow-sm">
                <i class="bi bi-exclamation-triangle-fill"></i>
            </div>
            <h2 class="fw-bold text-danger">Delete Personal Data</h2>
            <p class="text-muted">Permanently remove your account and all associated data.</p>
        </div>

        <div class="alert alert-danger border-0 rounded-3 mb-4" role="alert" style="background-color: var(--danger-soft); color: var(--danger-text);">
            <div class="d-flex">
                <i class="bi bi-slash-circle-fill fs-4 me-3"></i>
                <div>
                    <strong>Warning:</strong> This action cannot be undone. All your tasks, points, and history will be lost forever.
                </div>
            </div>
        </div>

        <form id="delete-user" method="post">
            <div asp-validation-summary="ModelOnly" class="text-danger mb-3 small" role="alert"></div>

            @if (Model.RequirePassword)
            {
                <div class="form-floating mb-4">
                    <input asp-for="Input.Password" class="form-control" autocomplete="current-password" aria-required="true" placeholder="Password" />
                    <label asp-for="Input.Password">Enter Password to Confirm</label>
                    <span asp-validation-for="Input.Password" class="text-danger small"></span>
                </div>
            }

            <button class="btn btn-danger btn-lg btn-pill-action w-100 shadow-sm fw-bold" type="submit">
                Delete My Account
            </button>
        </form>

    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}